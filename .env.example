# App configuration
# PostgreSQL connection
# Example for local docker-compose below
DATABASE_URL=postgresql+psycopg2://rag_user:rag_pass@localhost:5433/ragdb

# Qdrant
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_COLLECTION=research_papers

# Ollama (local LLM)
OLLAMA_BASE_URL=http://localhost:11434

# RAG Retrieval Configuration
# Score threshold for vector search (0.0-1.0, lower = more lenient)
RETRIEVAL_SCORE_THRESHOLD=0.15
# Score threshold when filtering to specific papers (more lenient)
RETRIEVAL_SCORE_THRESHOLD_FILTERED=0.05

# RAG Re-ranking Configuration
# Boost score when query keywords appear in chunk text
RERANK_TEXT_BOOST=0.15
# Boost score when query keywords appear in paper title (stronger signal)
RERANK_TITLE_BOOST=0.30

# Cross-Encoder Re-ranking (Advanced)
# Enable cross-encoder re-ranking for improved relevance (true/false)
ENABLE_CROSS_ENCODER_RERANK=true
# Cross-encoder model to use (from sentence-transformers)
CROSS_ENCODER_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2
# Multiplier for initial retrieval before re-ranking (fetch more candidates)
RERANK_RETRIEVAL_MULTIPLIER=2
